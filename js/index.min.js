$(document).ready(function(){$(".products").on("click",".fav",function(t){t.preventDefault(),$(this).find(".icon-outline, .icon-filled").toggleClass("d-none")});let o="favProducts",i="favFilter",e="viewMode",a=$(".products"),t=a.find(".card"),n=$(".viewProducts"),l=n.find("button").first(),s=(t.each(function(t){var e=$(this);e.attr("data-id")||e.attr("data-id","p"+(t+1))}),new Set(JSON.parse(localStorage.getItem(o)||"[]")));function d(t,e){var a=t.find(".fav");a.find(".icon-outline").toggleClass("d-none",e),a.find(".icon-filled").toggleClass("d-none",!e),t.toggleClass("is-fav",e),a.attr("aria-pressed",e)}function r(){let e="on"===localStorage.getItem(i),a=new Set(JSON.parse(localStorage.getItem(o)||"[]"));l.toggleClass("active",e).text(e?"Show All":"View Favorites Only"),t.each(function(){var t=String($(this).data("id")),t=a.has(t);$(this).toggleClass("d-none",e&&!t)})}t.each(function(){var t=$(this),e=String(t.data("id"));d(t,s.has(e))}),"list"===localStorage.getItem(e)&&(a.addClass("is-list"),n.find(".gridMode").addClass("d-none"),n.find(".listMode").removeClass("d-none")),r(),a.on("click",".fav",function(t){t.preventDefault();var t=$(this).closest(".card"),e=String(t.data("id")),a=!s.has(e);a?s.add(e):s.delete(e),localStorage.setItem(o,JSON.stringify([...s])),d(t,a),"on"===localStorage.getItem(i)&&t.toggleClass("d-none",!a)}),l.on("click",function(){var t="on"!==localStorage.getItem(i);localStorage.setItem(i,t?"on":"off"),r()}),n.on("click",".gridMode, .listMode",function(){var t=!a.hasClass("is-list");a.toggleClass("is-list",t),n.find(".gridMode, .listMode").toggleClass("d-none"),localStorage.setItem(e,t?"list":"grid"),r()})});